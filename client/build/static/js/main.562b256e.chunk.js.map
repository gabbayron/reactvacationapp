{"version":3,"sources":["components/Register.jsx","components/Login.jsx","components/EditVacationModal.jsx","components/Vacation.jsx","components/SearchInputs.jsx","components/AddVacationModal.jsx","components/Vacations.jsx","components/SideEffects/VerifyToken.jsx","components/AppBar.jsx","components/Chart.jsx","components/Footer.jsx","App.js","serviceWorker.js","reducers/userReducer.js","index.js"],"names":["useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Register","history","classes","dispatch","useDispatch","useState","fname","setFname","lname","setLname","username","setUsername","password","setPassword","error","setError","capFirstLetter","str","charAt","toUpperCase","slice","handleRegister","e","a","preventDefault","fetch","method","body","JSON","stringify","headers","res","json","data","msg","setTimeout","document","querySelector","focus","localStorage","token","access_token","decode","id","role","type","payload","push","console","log","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","color","noValidate","Grid","container","item","xs","sm","TextField","autoComplete","name","required","fullWidth","label","autoFocus","onChange","target","value","InputProps","startAdornment","InputAdornment","position","Button","onClick","justify","Link","RouterLink","to","Login","rememberMe","setRememberMe","handleLogin","sessionStorage","FormControlLabel","control","Checkbox","checked","modal","justifyContent","background","border","boxShadow","shadows","padding","EditVacationModal","country","price","start_date","end_date","destination","img_src","description","setCounter","counter","open","setOpen","startDate","setStartDate","endDate","setEndDate","ePrice","setEprice","eDescription","setEdescription","eDestenation","setEdestenation","eCountry","setEcountry","eImgSrc","setEimgsrc","handleClick","Authorization","style","IconButton","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","textAlign","utils","DateFnsUtils","format","KeyboardButtonProps","minDate","TextareaAutosize","rowsMax","disabled","Vacation","img","followers","following","serachedVacations","setSearchedVacations","user","expanded","setExpanded","handleFavoirte","order","newState","update","find","vacation","index","indexOf","handleDelete","splice","icon","marginRight","cardGrid","paddingTop","paddingBottom","card","height","cardMedia","cardContent","flexGrow","footer","expand","marginLeft","Card","CardHeader","action","size","CardMedia","image","title","CardContent","gutterBottom","Collapse","unmountOnExit","CardActions","clsx","expandOpen","aria-expanded","aria-label","SearchInputs","setFollowedVacations","setNotFollowedVacations","allVacations","Date","setDescription","searchVacation","length","paragraph","align","alignContent","renderDay","day","selectedDate","isInCurrentMonth","dayComponent","allDates","notFollowedVacations","map","vac","moment","followedVacations","isSelected","includes","Badge","badgeContent","right","undefined","endIcon","edge","AddVacationModal","setPrice","setDestination","setCountry","setImgSrc","heroContent","heroButtons","Vacations","useSelector","state","setAllVacations","liked","setLiked","useEffect","login","userid","Fragment","key","setVacations","marginBottom","VerifyToken","useHistory","userData","location","pathname","orange","getContrastText","deepOrange","Appbar","AppBar","Toolbar","noWrap","removeItem","Chart","vacations","filter","minWidth","aspect","top","left","bottom","strokeDasharray","dataKey","angle","fill","Footer","App","createMuiTheme","primary","blue","pink","ThemeProvider","path","exact","Box","m","Boolean","window","hostname","match","initialUser","store","createStore","combineReducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"gcAoBMA,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,MAAO,CACHC,UAAWF,EAAMG,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBC,OAAQ,CACJC,OAAQR,EAAMG,QAAQ,GACtBM,gBAAiBT,EAAMU,QAAQC,UAAUC,MAE7CC,KAAM,CACFC,MAAO,OACPZ,UAAWF,EAAMG,QAAQ,IAE7BY,OAAQ,CACJP,OAAQR,EAAMG,QAAQ,EAAG,EAAG,QAIrB,SAASa,EAAT,GAAgC,IAAZC,EAAW,EAAXA,QACzBC,EAAUpB,IACVqB,EAAWC,cAFyB,EAGhBC,mBAAS,IAHO,mBAGnCC,EAHmC,KAG5BC,EAH4B,OAIhBF,mBAAS,IAJO,mBAInCG,EAJmC,KAI5BC,EAJ4B,OAKVJ,mBAAS,IALC,mBAKnCK,EALmC,KAKzBC,EALyB,OAMVN,mBAAS,IANC,mBAMnCO,EANmC,KAMzBC,EANyB,OAOhBR,mBAAS,IAPO,mBAOnCS,EAPmC,KAO5BC,EAP4B,KASpCC,EAAiB,SAACC,GACpB,OAAOA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,MAAM,IAE7CC,EAAc,uCAAG,WAAOC,GAAP,6BAAAC,EAAA,6DACnBD,EAAEE,iBADiB,kBAGCC,MAAM,iBAAkB,CACpCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEvB,MAAOU,EAAeV,GAAQE,MAAOQ,EAAeR,GAAQE,WAAUE,aAC7FkB,QAAS,CAAE,eAAgB,sBANhB,cAGXC,EAHW,gBAQEA,EAAIC,OARN,QAQXC,EARW,QASNnB,OACLC,EAASkB,EAAKC,KACdC,YAAW,WACPpB,EAAS,MACV,KACEH,GACDwB,SAASC,cAAc,aAAaC,QAEnC5B,GACD0B,SAASC,cAAc,aAAaC,QAEnC9B,GACD4B,SAASC,cAAc,aAAaC,QAEnChC,GACD8B,SAASC,cAAc,cAAcC,UAGzCC,aAAaC,MAAQP,EAAKQ,aADvB,EAE0CC,YAAOT,EAAKQ,cAAjDE,EAFL,EAEKA,GAAIC,EAFT,EAESA,KAAMlC,EAFf,EAEeA,SAAUJ,EAFzB,EAEyBA,MAAOE,EAFhC,EAEgCA,MACnCL,EAAS,CACL0C,KAAM,QACNC,QAAS,CAAEH,KAAIC,OAAMlC,WAAUJ,QAAOE,WAE1CP,EAAQ8C,KAAK,cACbC,QAAQC,IAAI,0BAlCD,uHAAH,sDA0CpB,OACI,kBAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACjC,kBAACC,EAAA,EAAD,MACA,yBAAKC,UAAWpD,EAAQjB,OACpB,kBAACsE,EAAA,EAAD,CAAQD,UAAWpD,EAAQX,QACvB,kBAAC,IAAD,OAEJ,kBAACiE,EAAA,EAAD,CAAYL,UAAU,KAAKM,QAAQ,MAAnC,WAGA,kBAACD,EAAA,EAAD,CAAYL,UAAU,KAAKM,QAAQ,KAAKC,MAAM,aACzC5C,GAEL,0BAAMwC,UAAWpD,EAAQL,KAAM8D,YAAU,GACrC,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAAC1E,QAAS,GACrB,kBAACyE,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CACIC,aAAa,QACbC,KAAK,YACLV,QAAQ,WACRW,UAAQ,EACRC,WAAS,EACT1B,GAAG,YACH2B,MAAM,aACNC,WAAS,EACTC,SAAU,SAAClD,GAAD,OAAOf,EAASe,EAAEmD,OAAOC,WAG3C,kBAACd,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CACIR,QAAQ,WACRW,UAAQ,EACRC,WAAS,EACT1B,GAAG,WACH2B,MAAM,YACNH,KAAK,WACLD,aAAa,QACbM,SAAU,SAAClD,GAAD,OAAOb,EAASa,EAAEmD,OAAOC,WAG3C,kBAACd,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACX,kBAACE,EAAA,EAAD,CACIR,QAAQ,WACRW,UAAQ,EACRC,WAAS,EACTF,KAAK,WACLG,MAAM,WACNzB,KAAK,WACLF,GAAG,WACH6B,SAAU,SAAClD,GAAD,OAAOX,EAAYW,EAAEmD,OAAOC,QACtCC,WAAY,CACRC,eACI,kBAACC,EAAA,EAAD,CAAgBC,SAAS,SACrB,kBAAC,IAAD,WAMpB,kBAAClB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACX,kBAACE,EAAA,EAAD,CACIR,QAAQ,WACRW,UAAQ,EACRC,WAAS,EACTF,KAAK,WACLG,MAAM,WACNzB,KAAK,WACLF,GAAG,WACHuB,aAAa,mBACbM,SAAU,SAAClD,GAAD,OAAOT,EAAYS,EAAEmD,OAAOC,QACtCC,WAAY,CACRC,eACI,kBAACC,EAAA,EAAD,CAAgBC,SAAS,SACrB,kBAAC,IAAD,YAOxB,kBAACC,EAAA,EAAD,CACIlC,KAAK,SACLwB,WAAS,EACTZ,QAAQ,YACRC,MAAM,UACNJ,UAAWpD,EAAQH,OACnBiF,QAAS,SAAC1D,GAAD,OAAOD,EAAeC,KANnC,WAUA,kBAACsC,EAAA,EAAD,CAAMC,WAAS,EAACoB,QAAQ,UACpB,kBAACrB,EAAA,EAAD,CAAME,MAAI,GACN,kBAACoB,EAAA,EAAD,CAAM/B,UAAWgC,IAAYC,GAAG,SAAS3B,QAAQ,SAAjD,yC,sBCpKtB3E,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQR,EAAMG,QAAQ,GACtBM,gBAAiBT,EAAMU,QAAQC,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPZ,UAAWF,EAAMG,QAAQ,IAE3BY,OAAQ,CACNP,OAAQR,EAAMG,QAAQ,EAAG,EAAG,QAIjB,SAASkG,EAAT,GAA6B,IAAZpF,EAAW,EAAXA,QACxBC,EAAUpB,IADyB,EAETuB,mBAAS,IAFA,mBAElCK,EAFkC,KAExBC,EAFwB,OAGTN,mBAAS,IAHA,mBAGlCO,EAHkC,KAGxBC,EAHwB,OAIfR,mBAAS,IAJM,mBAIlCS,EAJkC,KAI3BC,EAJ2B,OAKLV,oBAAS,GALJ,mBAKlCiF,EALkC,KAKtBC,EALsB,KAMnCpF,EAAWC,cAEXoF,EAAW,uCAAG,WAAOlE,GAAP,6BAAAC,EAAA,6DAClBD,EAAEE,iBADgB,kBAGAC,MAAM,cAAe,CACnCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEnB,WAAUE,aACjCkB,QAAS,CAAE,eAAgB,sBANb,cAGZC,EAHY,gBAQCA,EAAIC,OARL,OAQZC,EARY,OAShBe,QAAQC,IAAIhB,GACRA,EAAKnB,OACPC,EAASkB,EAAKC,KACdC,YAAW,WACTpB,EAAS,MACR,KACEH,GACHwB,SAASC,cAAc,aAAaC,QAEjC5B,IACHsC,QAAQC,IAAI,UACZb,SAASC,cAAc,aAAaC,WAGlCgD,EACF/C,aAAaC,MAAQP,EAAKQ,aAE1BgD,eAAejD,MAAQP,EAAKQ,aAJzB,EAMwCC,YAAOT,EAAKQ,cAAjDE,EANH,EAMGA,GAAIC,EANP,EAMOA,KAAMlC,EANb,EAMaA,SAAUJ,EANvB,EAMuBA,MAAOE,EAN9B,EAM8BA,MACnCL,EAAS,CACP0C,KAAM,QACNC,QAAS,CAAEH,KAAIC,OAAMlC,WAAUJ,QAAOE,WAExCP,EAAQ8C,KAAK,cACbC,QAAQC,IAAI,WAlCE,uHAAH,sDAyCjB,OACE,kBAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACnC,kBAACC,EAAA,EAAD,MACA,yBAAKC,UAAWpD,EAAQjB,OACtB,kBAACsE,EAAA,EAAD,CAAQD,UAAWpD,EAAQX,QACzB,kBAAC,IAAD,OAEF,kBAACiE,EAAA,EAAD,CAAYL,UAAU,KAAKM,QAAQ,MAAnC,WAGA,kBAACD,EAAA,EAAD,CAAYL,UAAU,KAAKM,QAAQ,KAAKC,MAAM,aAC3C5C,GAEH,0BAAMwC,UAAWpD,EAAQL,KAAM8D,YAAU,GACvC,kBAACM,EAAA,EAAD,CACER,QAAQ,WACRjE,OAAO,SACP4E,UAAQ,EACRC,WAAS,EACT1B,GAAG,WACH2B,MAAM,WACNH,KAAK,WACLI,WAAS,EACTzD,OAAO,EACP0D,SAAU,SAAClD,GAAD,OAAOX,EAAYW,EAAEmD,OAAOC,QACtCC,WAAY,CACVC,eACE,kBAACC,EAAA,EAAD,CAAgBC,SAAS,SACvB,kBAAC,IAAD,UAKR,kBAACb,EAAA,EAAD,CACER,QAAQ,WACRjE,OAAO,SACP4E,UAAQ,EACRC,WAAS,EACTF,KAAK,WACLG,MAAM,WACNzB,KAAK,WACLF,GAAG,WACHuB,aAAa,mBACbM,SAAU,SAAClD,GAAD,OAAOT,EAAYS,EAAEmD,OAAOC,QACtCC,WAAY,CACVC,eACE,kBAACC,EAAA,EAAD,CAAgBC,SAAS,SACvB,kBAAC,IAAD,UAKR,kBAACY,EAAA,EAAD,CACEC,QAAS,kBAACC,EAAA,EAAD,CAAUlB,MAAM,WAAWhB,MAAM,YAC1CY,MAAM,cACNuB,QAASP,EACTd,SAAU,SAAAlD,GAAC,OAAIiE,EAAcjE,EAAEmD,OAAOoB,YAExC,kBAACd,EAAA,EAAD,CACElC,KAAK,SACLwB,WAAS,EACTZ,QAAQ,YACRC,MAAM,UACNJ,UAAWpD,EAAQH,OACnBiF,QAAS,SAAC1D,GAAD,OAAOkE,EAAYlE,KAN9B,WAUA,kBAACsC,EAAA,EAAD,CAAMC,WAAS,EAACoB,QAAQ,UACtB,kBAACrB,EAAA,EAAD,CAAME,MAAI,GACR,kBAACoB,EAAA,EAAD,CAAM/B,UAAWgC,IAAYC,GAAG,YAAY3B,QAAQ,SACjD,uC,sSCpJX3E,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC8G,MAAO,CACH1G,QAAS,OACTE,WAAY,SACZyG,eAAgB,UAEpB9G,MAAO,CACHQ,gBAAiBT,EAAMU,QAAQsG,WAAW/G,MAC1CgH,OAAQ,iBACRC,UAAWlH,EAAMmH,QAAQ,GACzBC,QAASpH,EAAMG,QAAQ,EAAG,EAAG,QAItB,SAASkH,GAAT,GAAmI,IAAtGC,EAAqG,EAArGA,QAASC,EAA4F,EAA5FA,MAAOC,EAAqF,EAArFA,WAAYC,EAAyE,EAAzEA,SAAUC,EAA+D,EAA/DA,YAAaC,EAAkD,EAAlDA,QAASC,EAAyC,EAAzCA,YAAajE,EAA4B,EAA5BA,GAAIkE,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,QAC3H5G,EAAUpB,KAD6H,EAErHuB,oBAAS,GAF4G,mBAEtI0G,EAFsI,KAEhIC,EAFgI,OAG3G3G,mBAASmG,GAHkG,mBAGtIS,EAHsI,KAG3HC,EAH2H,OAI/G7G,mBAASoG,GAJsG,mBAItIU,EAJsI,KAI7HC,EAJ6H,OAKjH/G,mBAASkG,GALwG,mBAKtIc,EALsI,KAK9HC,EAL8H,OAMrGjH,mBAASuG,GAN4F,mBAMtIW,EANsI,KAMxHC,EANwH,OAOrGnH,mBAASqG,GAP4F,mBAOtIe,EAPsI,KAOxHC,EAPwH,OAQ7GrH,mBAASiG,GARoG,mBAQtIqB,EARsI,KAQ5HC,EAR4H,OAS/GvH,mBAASsG,GATsG,mBAStIkB,EATsI,KAS7HC,EAT6H,KAWvIC,EAAW,uCAAG,sBAAAxG,EAAA,+EAENE,MAAM,mBAAD,OAAoBkB,GAAM,CACjCjB,OAAQ,MACRI,QAAS,CACLkG,cAAezF,aAAaC,OAASiD,eAAejD,MACpD,eAAgB,oBAEpBb,KAAMC,KAAKC,UAAU,CACjB+E,YAAaW,EACbb,YAAae,EACbnB,QAASqB,EACTpB,MAAOc,EACPV,QAASkB,EACTpB,SAAUU,EACVX,WAAYS,MAfR,OAkBZJ,EAAWC,EAAU,GACrBE,GAASD,GAnBG,oHAAH,qDAwBjB,OACI,yBAAKkB,MAAO,CAAE/I,UAAW,QACrB,kBAACgJ,EAAA,EAAD,CAAYlD,QAAS,kBAAMgC,GAASD,KAChC,kBAAC,KAAD,OAEJ,kBAACoB,GAAA,EAAD,CACIC,kBAAgB,yBAChBC,mBAAiB,+BACjB/E,UAAWpD,EAAQ4F,MACnBiB,KAAMA,EACNuB,QAAS,kBAAMtB,GAASD,IACxBwB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACXC,QAAS,MAGb,kBAACC,GAAA,EAAD,CAAMC,GAAI9B,GACN,yBAAKzD,UAAWpD,EAAQjB,OACpB,wBAAI0D,GAAG,yBAAyBsF,MAAO,CAAEa,UAAW,WAApD,oBAAkFrB,GAClF,kBAAC,KAAD,CAAyBsB,MAAOC,MAC5B,kBAACpF,EAAA,EAAD,CAAMC,WAAS,GACX,kBAACD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAAC,KAAD,CACIxE,OAAO,SACPmD,GAAG,sBACH2B,MAAM,gBACN2E,OAAO,aACPvE,MAAOuC,EACPzC,SAAU0C,EACVgC,oBAAqB,CACjB,aAAc,kBAI1B,kBAACtF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAAC,KAAD,CACIxE,OAAO,SACPmD,GAAG,sBACH2B,MAAM,cACN2E,OAAO,aACPE,QAASlC,EACTvC,MAAOyC,EACP3C,SAAU4C,EACV8B,oBAAqB,CACjB,aAAc,kBAI1B,kBAACtF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWK,MAAM,cAAc9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAIoG,EAAgBpG,EAAEmD,OAAOC,QAAQA,MAAO+C,KAE1G,kBAAC7D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWK,MAAM,UAAU9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAIsG,EAAYtG,EAAEmD,OAAOC,QAAQA,MAAOiD,KAElG,kBAAC/D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWpB,KAAK,SAASyB,MAAM,QAAQ9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAIgG,EAAUhG,EAAEmD,OAAOC,QAAQA,MAAO2C,KAE5G,kBAACzD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWpB,KAAK,OAAOyB,MAAM,eAAe9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAIwG,EAAWxG,EAAEmD,OAAOC,QAAQA,MAAOmD,KAGlH,kBAACjE,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,6CACA,kBAACoF,GAAA,EAAD,CAAkB1E,MAAO6C,EAAc/C,SAAU,SAAAlD,GAAC,OAAIkG,EAAgBlG,EAAEmD,OAAOC,QAAQ2E,QAAS,OAGxG,yBAAKpB,MAAO,CAAEa,UAAW,WACrB,kBAAC/D,EAAA,EAAD,CACIC,QAAS+C,EACTuB,UAAW/B,IAAiBE,GAAgBN,EAAUF,IAAcY,IAAYF,IAAaN,EAC7F5D,QAAQ,YACRC,MAAM,WAJV,sBCjHhC,IAqLe6F,GArLE,SAAC,GAgBX,IAfL7C,EAeI,EAfJA,YACAE,EAcI,EAdJA,YACA4C,EAaI,EAbJA,IACAhD,EAYI,EAZJA,WACAC,EAWI,EAXJA,SACAF,EAUI,EAVJA,MACAkD,EASI,EATJA,UACA9G,EAQI,EARJA,GACA+G,EAOI,EAPJA,UACA7C,EAMI,EANJA,WACAP,EAKI,EALJA,QACAQ,EAII,EAJJA,QACA6C,EAGI,EAHJA,kBACAC,EAEI,EAFJA,qBACAC,EACI,EADJA,KACI,EAC4BxJ,oBAAS,GADrC,mBACGyJ,EADH,KACaC,EADb,KAMEC,EAAc,uCAAG,gCAAAzI,EAAA,+DAEnBE,MAAM,cAAD,OAAekB,GAAM,CACxBjB,OAAQ,MACRC,KAAMC,KAAKC,UAAU,CACnB4H,UAAWC,IAAcD,IAAcA,EACvCQ,MAAOP,EAAY,SAAW,QAEhC5H,QAAS,CACPkG,cAAezF,aAAaC,OAASiD,eAAejD,MACpD,eAAgB,sBAGhBoH,IACEM,EADoB,YACLP,GACfQ,EAASR,EAAkBS,MAAK,SAAAC,GAAQ,OAAIA,EAAS1H,KAAOA,KAC5D2H,EAAQX,EAAkBY,QAAQJ,GACtCD,EAASI,GAAOb,UAAYA,EAC5BG,EAAqBM,IAEvBrD,EAAWC,EAAU,GApBF,kHAAH,qDA0Bd0D,EAAY,uCAAG,gCAAAjJ,EAAA,+EAEXE,MAAM,cAAD,OAAekB,GAAM,CAC9BjB,OAAQ,SACRI,QAAS,CACPkG,cAAezF,aAAaC,OAASiD,eAAejD,SALvC,OAQboH,IACEM,EADoB,YACLP,GACfQ,EAASR,EAAkBS,MAAK,SAAAC,GAAQ,OAAIA,EAAS1H,KAAOA,KAC5D2H,EAAQX,EAAkBY,QAAQJ,GACtCD,EAASO,OAAOH,EAAO,GACvBV,EAAqBM,IAEvBrD,EAAWC,EAAU,GAfJ,oHAAH,qDAiDZ5G,EA5BYnB,aAAW,SAACC,GAAD,MAAY,CACvC0L,KAAM,CACJC,YAAa3L,EAAMG,QAAQ,IAE7ByL,SAAU,CACRC,WAAY7L,EAAMG,QAAQ,GAC1B2L,cAAe9L,EAAMG,QAAQ,IAE/B4L,KAAM,CACJC,OAAQ,OACR5L,QAAS,OACTC,cAAe,UAGjB4L,UAAW,CACTJ,WAAY,UAEdK,YAAa,CACXC,SAAU,GAEZC,OAAQ,CACN3L,gBAAiBT,EAAMU,QAAQsG,WAAW/G,MAC1CmH,QAASpH,EAAMG,QAAQ,IAEzBkM,OAAQ,CACNC,WAAY,WAGAxM,GAEhB,OACE,oCACE,kBAAC8E,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGT,UAAWpD,EAAQ6K,MACnC,kBAACQ,EAAA,EAAD,KACiB,UAAd1B,EAAKjH,KACJ,kBAAC4I,GAAA,EAAD,CAAYvD,MAAO,CAAElC,eAAgB,gBAAkB0F,OACrD,kBAACpF,GAAD,CAAmBC,QAASA,EAASC,MAAOA,EAC1CC,WAAYA,EAAYC,SAAUA,EAClCC,YAAaA,EAAaC,QAAS6C,EACnC5C,YAAaA,EAAajE,GAAIA,EAC9BmE,QAASA,EAASD,WAAYA,IAGhCtH,OACE,kBAAC2I,EAAA,EAAD,CAAYlD,QAASwF,EAAckB,KAAK,SACtC,kBAAC,KAAD,SAGD,GAEP,kBAACC,EAAA,EAAD,CACErI,UAAWpD,EAAQ+K,UACnBW,MAAK,UAAKpC,GACVqC,MAAK,UAAKnF,KAEZ,kBAACoF,EAAA,EAAD,CAAaxI,UAAWpD,EAAQgL,aAC9B,kBAAC1H,EAAA,EAAD,CACEyE,MAAO,CAAEa,UAAW,UACpBiD,cAAY,EACZtI,QAAQ,KACRN,UAAU,OAEV,2BAAIuD,GACJ,yCAAeJ,GACf,uCAAaC,EAAb,MACA,uCACA,wCACW,kBAAC,IAAD,CAAQ0C,OAAO,eAAezC,GAAqB,KAE9D,sCACS,kBAAC,IAAD,CAAQyC,OAAO,eAAexC,GAAmB,KAE1D,2CAAiBgD,IAGnB,kBAACuC,GAAA,EAAD,CAAUnD,GAAIiB,EAAUnB,QAAQ,OAAOsD,eAAa,GAClD,kBAACzI,EAAA,EAAD,KAAaoD,KAGjB,kBAACpD,EAAA,EAAD,CACEL,UAAU,MACV8E,MAAO,CAAE7I,QAAS,OAAQ2G,eAAgB,iBAE1C,kBAACmG,EAAA,EAAD,CAAajE,MAAO,CAAE7I,QAAS,SAC7B,kBAAC2F,EAAA,EAAD,CACEzB,UAAW6I,aAAKjM,EAAQmL,OAAT,eACZnL,EAAQkM,WAAatC,IAExB9E,QA3IY,WACxB+E,GAAaD,IA2IDuC,gBAAevC,EACfwC,aAAW,YACXZ,KAAK,QACLhI,MAAM,WAELoG,EAAW,YAAc,kBAEb,SAAdD,EAAKjH,KAAkB,kBAACsF,EAAA,EAAD,CACtBoE,aAAW,mBACXtH,QAASgF,GAET,kBAAC,IAAD,CAActG,MAAOgG,EAAY,YAAc,YAE7C,W,6FC/KH,SAAS6C,GAAT,GAOX,IANAC,EAMD,EANCA,qBACAC,EAKD,EALCA,wBACA7C,EAID,EAJCA,qBACA8C,EAGD,EAHCA,aACA5F,EAED,EAFCA,QACAD,EACD,EADCA,WACD,EACmCxG,mBAAS,IAAIsM,MADhD,mBACQ1F,EADR,KACmBC,EADnB,OAE+B7G,mBAAS,IAAIsM,MAF5C,mBAEQxF,EAFR,KAEiBC,EAFjB,OAGuC/G,mBAAS,IAHhD,mBAGQuG,EAHR,KAGqBgG,EAHrB,OAI2BvM,mBAAS,IAJpC,mBAIQS,EAJR,KAIeC,EAJf,KAMO8L,EAAc,uCAAG,8BAAAtL,EAAA,+EAECE,MAAM,oBAAqB,CACvCC,OAAQ,OACRI,QAAS,CACLkG,cAAezF,aAAaC,OAASiD,eAAejD,MACpD,eAAgB,oBAEpBb,KAAMC,KAAKC,UACP,CACI2E,WAAYS,EACZR,SAAUU,EACVP,kBAZG,cAEX7E,EAFW,gBAeEA,EAAIC,OAfN,QAeXC,EAfW,QAgBN6K,OAAS,GACdN,EAAqB,IACrBC,EAAwB,IACxB7C,EAAqB3H,KAErBlB,EAAS,qCACToB,YAAW,WACPpB,EAAS,MACV,OAxBQ,uHAAH,qDAqCpB,OACI,kBAAC,KAAD,CAAyBgI,MAAOC,MAC5B,6BACI,kBAACxF,EAAA,EAAD,CAAYuJ,WAAS,EAACtJ,QAAQ,KAAKuJ,MAAM,SAAStJ,MAAM,iBAAxD,iCAICyD,EAAUF,EAAY,wBAAIgB,MAAO,CAAEvE,MAAO,MAAOoF,UAAW,WAAtC,2CAAiG,IAE5H,kBAAClF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIF,WAAS,EAACoB,QAAQ,eAAegI,aAAa,SAAS3N,WAAW,UAEjF,kBAAC,KAAD,CACIE,OAAO,SACPmD,GAAG,sBACH2B,MAAM,gBACN2E,OAAO,aACPE,QAASlC,EACTvC,MAAOuC,EACPiG,UAAW,SAACC,EAAKC,EAAcC,EAAkBC,GAC7C,IAAIC,EAAWb,EAAac,qBAAqBC,KAAI,SAAAC,GAAG,OAAIC,KAAOD,EAAIlH,YAAYyC,OAAO,mBAC1FsE,EAAQ,sBAAOA,GAAP,YAAoBb,EAAakB,kBAAkBH,KAAI,SAAAC,GAAG,OAAIC,KAAOD,EAAIlH,YAAYyC,OAAO,qBACpG,IAAM4E,EAAaR,GAAoBE,EAASO,SAASH,KAAOR,GAAKlE,OAAO,iBAC5E,OAAO,kBAAC8E,GAAA,EAAD,CAAOC,aAAcH,EAAa,kBAAC,KAAD,CAAW5F,MAAO,CAAEnD,SAAU,WAAYmJ,MAAO,eAAeC,GAAYZ,IAEzH9I,SAAU0C,EACVgC,oBAAqB,CACjB,aAAc,iBAGtB,kBAAC,KAAD,CACI1J,OAAO,SACPmD,GAAG,sBACH2B,MAAM,cACN2E,OAAO,aACPE,QAASlC,EACTvC,MAAOyC,EACP+F,UAAW,SAACC,EAAKC,EAAcC,EAAkBC,GAC7C,IAAIC,EAAWb,EAAac,qBAAqBC,KAAI,SAAAC,GAAG,OAAIC,KAAOD,EAAIjH,UAAUwC,OAAO,mBACxFsE,EAAQ,sBAAOA,GAAP,YAAoBb,EAAakB,kBAAkBH,KAAI,SAAAC,GAAG,OAAIC,KAAOD,EAAIjH,UAAUwC,OAAO,qBAClG,IAAM4E,EAAaR,GAAoBE,EAASO,SAASH,KAAOR,GAAKlE,OAAO,iBAC5E,OAAO,kBAAC8E,GAAA,EAAD,CAAOC,aAAcH,EAAa,kBAAC,KAAD,CAAW5F,MAAO,CAAEnD,SAAU,WAAYmJ,MAAO,eAAeC,GAAYZ,IAEzH9I,SAAU4C,EACV8B,oBAAqB,CACjB,aAAc,iBAGtB,kBAACjF,EAAA,EAAD,CAAWtB,GAAG,iBAAiB2B,MAAM,cAAc9E,OAAO,SAASkF,MAAOkC,EAAapC,SAAU,SAAAlD,GAAC,OAAIsL,EAAetL,EAAEmD,OAAOC,UAE9H,kBAACK,EAAA,EAAD,CACIoJ,QAAS,kBAAC,KAAD,MACTzK,MAAM,UAAU0K,KAAK,MACrB3K,QAAQ,YACR6F,SAAUnC,EAAUF,EACpByE,KAAK,SACLzD,MAAO,CAAE/I,UAAW,QACpB8F,QAAS6H,GAPb,UAYA,kBAAC9H,EAAA,EAAD,CACIoJ,QAAS,kBAAC,KAAD,MACTzK,MAAM,UACN0K,KAAK,MACL3K,QAAQ,YACRiI,KAAK,SACLzD,MAAO,CAAE/I,UAAW,QACpB8F,QA1EI,WAChB6B,EAAWC,EAAU,GACrB8C,EAAqB,IACrBgD,EAAe,MAgEP,UAYJ,kBAACpJ,EAAA,EAAD,CAAYyE,MAAO,CAAE/I,UAAW,MAAQ6N,WAAS,EAACtJ,QAAQ,KAAKuJ,MAAM,SAAStJ,MAAM,aAC/E5C,IC9HjB,IAAMhC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC8G,MAAO,CACH1G,QAAS,OACTE,WAAY,SACZyG,eAAgB,UAEpB9G,MAAO,CACHQ,gBAAiBT,EAAMU,QAAQsG,WAAW/G,MAC1CgH,OAAQ,iBACRC,UAAWlH,EAAMmH,QAAQ,GACzBC,QAASpH,EAAMG,QAAQ,EAAG,EAAG,QAItB,SAASkP,GAAT,GAAoD,IAAxBvH,EAAuB,EAAvBA,QAASD,EAAc,EAAdA,WAC1C3G,EAAUpB,KAD8C,EAEtCuB,oBAAS,GAF6B,mBAEvD0G,EAFuD,KAEjDC,EAFiD,OAG3B3G,mBAAS,IAAIsM,MAHc,mBAGvDnG,EAHuD,KAG3CU,EAH2C,OAI/B7G,mBAAS,IAAIsM,MAJkB,mBAIvDlG,EAJuD,KAI7CW,EAJ6C,OAKpC/G,mBAAS,GAL2B,mBAKvDkG,EALuD,KAKhD+H,EALgD,OAMxBjO,mBAAS,IANe,mBAMvDuG,EANuD,KAM1CgG,EAN0C,OAOxBvM,mBAAS,IAPe,mBAOvDqG,EAPuD,KAO1C6H,EAP0C,OAQhClO,mBAAS,IARuB,mBAQvDiG,EARuD,KAQ9CkI,EAR8C,OASjCnO,mBAAS,IATwB,mBASvDsG,EATuD,KAS9C8H,EAT8C,KAWxD1G,EAAW,uCAAG,sBAAAxG,EAAA,+EAENE,MAAM,iBAAkB,CAC1BC,OAAQ,OACRI,QAAS,CACL,eAAgB,mBAChBkG,cAAezF,aAAaC,OAASiD,eAAejD,OAExDb,KAAMC,KAAKC,UAAU,CAAE6E,cAAaE,cAAaJ,aAAYC,WAAUH,UAASC,QAAOI,cAR/E,OAUZK,GAASD,GACTG,EAAa,IAAIyF,MACjBvF,EAAW,IAAIuF,MACf2B,EAAS,GACT1B,EAAe,IACf2B,EAAe,IACfC,EAAW,IACXC,EAAU,IACV5H,EAAWC,EAAU,GAlBT,uHAAH,qDAwBjB,OACI,yBAAKmB,MAAO,CAAE/I,UAAW,QACrB,kBAAC6F,EAAA,EAAD,CAAQC,QAAS,kBAAMgC,GAASD,IAAOtD,QAAQ,YAAYC,MAAM,WAAjE,cACA,kBAACyE,GAAA,EAAD,CACIC,kBAAgB,yBAChBC,mBAAiB,+BACjB/E,UAAWpD,EAAQ4F,MACnBiB,KAAMA,EACNuB,QAAS,kBAAMtB,GAASD,IACxBwB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACXC,QAAS,MAGb,kBAACC,GAAA,EAAD,CAAMC,GAAI9B,GACN,yBAAKzD,UAAWpD,EAAQjB,OACpB,wBAAI0D,GAAG,yBAAyBsF,MAAO,CAAEa,UAAW,WAApD,kBACA,kBAAC,KAAD,CAAyBC,MAAOC,MAC5B,kBAACpF,EAAA,EAAD,CAAMC,WAAS,GACX,kBAACD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAAC,KAAD,CACIxE,OAAO,SACPmD,GAAG,sBACH2B,MAAM,gBACN2E,OAAO,aACPE,QAAS3C,EACT9B,MAAO8B,EACPhC,SAAU0C,EACVgC,oBAAqB,CACjB,aAAc,kBAI1B,kBAACtF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAAC,KAAD,CACIxE,OAAO,SACPmD,GAAG,sBACH2B,MAAM,cACN2E,OAAO,aACPE,QAAS3C,EACT9B,MAAO+B,EACPjC,SAAU4C,EACV8B,oBAAqB,CACjB,aAAc,kBAI1B,kBAACtF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWK,MAAM,cAAc9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAIiN,EAAejN,EAAEmD,OAAOC,QAAQA,MAAOgC,KAEzG,kBAAC9C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWK,MAAM,UAAU9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAIkN,EAAWlN,EAAEmD,OAAOC,QAAQA,MAAO4B,KAEjG,kBAAC1C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWpB,KAAK,SAASyB,MAAM,QAAQ9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAIgN,EAAShN,EAAEmD,OAAOC,QAAQA,MAAO6B,KAE3G,kBAAC3C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,kBAACC,EAAA,EAAD,CAAWpB,KAAK,OAAOyB,MAAM,eAAe9E,OAAO,SAASgF,SAAU,SAAAlD,GAAC,OAAImN,EAAUnN,EAAEmD,OAAOC,QAAQA,MAAOiC,KAGjH,kBAAC/C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,6CACA,kBAACoF,GAAA,EAAD,CAAkB1E,MAAOkC,EAAapC,SAAU,SAAAlD,GAAC,OAAIsL,EAAetL,EAAEmD,OAAOC,QAAQ2E,QAAS,OAGtG,yBAAKpB,MAAO,CAAEa,UAAW,WACrB,kBAAC/D,EAAA,EAAD,CACIC,QAAS+C,EACTuB,UAAW1C,IAAgBF,GAAeD,EAAWD,IAAeG,IAAYL,IAAYC,EAC5F9C,QAAQ,YACRC,MAAM,WAJV,sBCnHhC,IAAM5E,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6M,MAAO,CACLV,SAAU,GAEZT,KAAM,CACJC,YAAa3L,EAAMG,QAAQ,IAE7BuP,YAAa,CACXjP,gBAAiBT,EAAMU,QAAQsG,WAAW/G,MAC1CmH,QAASpH,EAAMG,QAAQ,EAAG,EAAG,IAE/BwP,YAAa,CACXzP,UAAWF,EAAMG,QAAQ,IAE3ByL,SAAU,CACRC,WAAY7L,EAAMG,QAAQ,GAC1B2L,cAAe9L,EAAMG,QAAQ,IAE/B4L,KAAM,CACJC,OAAQ,OACR5L,QAAS,OACTC,cAAe,UAEjB4L,UAAW,CACTJ,WAAY,UAEdK,YAAa,CACXC,SAAU,GAEZC,OAAQ,CACN3L,gBAAiBT,EAAMU,QAAQsG,WAAW/G,MAC1CmH,QAASpH,EAAMG,QAAQ,QAIZ,SAASyP,KACtB,IAAM/E,EAAOgF,aAAY,SAACC,GAAD,OAAWA,EAAMjF,QACpC3J,EAAUpB,KAFkB,EAGMuB,mBAAS,IAHf,mBAG3BqM,EAH2B,KAGbqC,EAHa,OAIgB1O,mBAAS,IAJzB,mBAI3BuN,EAJ2B,KAIRpB,EAJQ,OAKsBnM,mBAAS,IAL/B,mBAK3BmN,EAL2B,KAKLf,EALK,OAMgBpM,mBAAS,IANzB,mBAM3BsJ,EAN2B,KAMRC,EANQ,OAOJvJ,mBAAS,GAPL,mBAO3ByG,EAP2B,KAOlBD,EAPkB,OAQRxG,mBAAS,IARD,mBAQ3B2O,EAR2B,KAQpBC,EARoB,KA8BlC,OApBAC,qBAAU,WACR,sBAAC,8BAAA3N,EAAA,mEAEOsI,EAAKsF,MAFZ,iCAGqB1N,MAAM,aAAc,CAClCK,QAAS,CAAEkG,cAAezF,aAAaC,OAASiD,eAAejD,SAJtE,cAGST,EAHT,gBAM8BA,EAAIC,OANlC,OAMS0K,EANT,OAOKqC,EAAgBrC,GAChBD,EAAwBC,EAAac,sBACrChB,EAAqBE,EAAakB,mBAClCqB,EAASvC,EAAakB,kBAAkBH,KAAI,SAAApD,GAAQ,OAAIA,EAAS1H,OAVtE,iCAYU,MAZV,sGAAD,KAiBC,CAACmE,EAAS+C,EAAKsF,MAAOtF,EAAKuF,SAG5B,kBAAC,IAAMC,SAAP,KACE,kBAAChM,EAAA,EAAD,MACA,8BACE,yBAAKC,UAAWpD,EAAQwO,aACtB,kBAACxL,EAAA,EAAD,CAAWE,SAAS,MAClB,kBAACI,EAAA,EAAD,CACEL,UAAU,KACVM,QAAQ,KACRuJ,MAAM,SACNtJ,MAAM,cACNqI,cAAY,GALd,cAOclC,EAAKvJ,MAPnB,IAO2BuJ,EAAKrJ,OAEhC,kBAACgD,EAAA,EAAD,CACEC,QAAQ,KACRuJ,MAAM,SACNtJ,MAAM,gBACNqJ,WAAS,GAJX,gDAOOlD,EAAKvJ,MAPZ,YAOqBuJ,EAAKrJ,OAP1B,2FAQ6D,6BAR7D,gBAaJ,kBAAC0C,EAAA,EAAD,CAAWE,SAAS,MAClB,kBAACmJ,GAAD,CACEC,qBAAsBA,EACtBC,wBAAyBA,EACzB7C,qBAAsBA,EACtB8C,aAAcA,EACd5F,QAASA,EACTD,WAAYA,KAGD,UAAdgD,EAAKjH,KACJ,kBAACM,EAAA,EAAD,CAAW+E,MAAO,CAAEa,UAAW,UAAY1F,SAAS,MAClD,kBAACiL,GAAD,CAAkBvH,QAASA,EAASD,WAAYA,KAEhD,KAGH8C,EAAkBmD,OAAS,EAE1B,wBAAI7E,MAAO,CAAEa,UAAW,WAAxB,kCAA0E,GAE3Ea,EAAkBmD,OAAS,EACzB,kBAAC5J,EAAA,EAAD,CAAWI,UAAWpD,EAAQ0K,SAAUxH,SAAS,MAChD,kBAACQ,EAAA,EAAD,CACEqB,QAAQ,aACRpB,WAAS,EACT1E,QAAS,GAERwK,EAAkB8D,KAAI,SAACpD,GAAD,OACrB,kBAAC,GAAD,CACEiF,IAAKjF,EAAS1H,GACdA,GAAI0H,EAAS1H,GACbiE,YAAayD,EAASzD,YACtBF,YAAa2D,EAAS3D,YACtBJ,QAAS+D,EAAS/D,QAClBkD,IAAKa,EAAS1D,QACdH,WAAY6D,EAAS7D,WACrBC,SAAU4D,EAAS5D,SACnBF,MAAO8D,EAAS9D,MAChBkD,UAAWY,EAASZ,UACpBC,YAAWsF,EAAMlB,SAASzD,EAAS1H,IACnC4M,aAAc/C,EACd3F,WAAYA,EACZC,QAASA,EACT6C,kBAAmBA,EACnBC,qBAAsBA,EACtBC,KAAMA,SAKZ,GAE0B,IAA7BF,EAAkBmD,OACjB,kBAAC5J,EAAA,EAAD,CAAWI,UAAWpD,EAAQ0K,SAAUxH,SAAS,MAChC,UAAdyG,EAAKjH,KAAmB,KACvB,kBAACY,EAAA,EAAD,CACEL,UAAU,KACVM,QAAQ,KACRuJ,MAAM,SACNtJ,MAAM,cACNqI,cAAY,EACZ9D,MAAO,CAAEuH,aAAc,OANzB,4BAYF,kBAAC5L,EAAA,EAAD,CACEqB,QAAS2I,EAAkBd,OAAS,EAAI,aAAe,SACvDjJ,WAAS,EACT1E,QAAS,GAERyO,EAAkBd,OAAS,EAC1Bc,EAAkBH,KAAI,SAACpD,GAAD,OACpB,kBAAC,GAAD,CACEiF,IAAKjF,EAAS1H,GACdA,GAAI0H,EAAS1H,GACbiE,YAAayD,EAASzD,YACtBF,YAAa2D,EAAS3D,YACtBJ,QAAS+D,EAAS/D,QAClBkD,IAAKa,EAAS1D,QACdH,WAAY6D,EAAS7D,WACrBC,SAAU4D,EAAS5D,SACnBF,MAAO8D,EAAS9D,MAChBkD,UAAWY,EAASZ,UACpBC,WAAW,EACX6F,aAAc/C,EACd3F,WAAYA,EACZC,QAASA,EACT+C,KAAMA,OAKM,UAAdA,EAAKjH,KAAmB,KACtB,kBAACY,EAAA,EAAD,CACEL,UAAU,KACVM,QAAQ,KACRuJ,MAAM,SACNtJ,MAAM,gBACNuE,MAAO,CAAEzI,OAAQ,OALnB,4CAaR,kBAACgE,EAAA,EAAD,CACEL,UAAU,KACVM,QAAQ,KACRuJ,MAAM,SACNtJ,MAAM,cACNqI,cAAY,EACZ9D,MAAO,CAAEzI,OAAQ,OAEF,UAAdqK,EAAKjH,KAAmB,kBAAoB,mCAG/C,kBAACgB,EAAA,EAAD,CACEqB,QAASuI,EAAqBV,OAAS,EAAI,aAAe,SAC1DjJ,WAAS,EACT1E,QAAS,GAERqO,EAAqBV,OAAS,EAC7BU,EAAqBC,KAAI,SAACpD,GAAD,OACvB,kBAAC,GAAD,CACEiF,IAAKjF,EAAS1H,GACdA,GAAI0H,EAAS1H,GACbiE,YAAayD,EAASzD,YACtBF,YAAa2D,EAAS3D,YACtBJ,QAAS+D,EAAS/D,QAClBkD,IAAKa,EAAS1D,QACdH,WAAY6D,EAAS7D,WACrBC,SAAU4D,EAAS5D,SACnBF,MAAO8D,EAAS9D,MAChBkD,UAAWY,EAASZ,UACpBC,WAAW,EACX6F,aAAc9C,EACd5F,WAAYA,EACZC,QAASA,EACT+C,KAAMA,OAIR,kBAACrG,EAAA,EAAD,CACEL,UAAU,KACVM,QAAQ,KACRuJ,MAAM,SACNtJ,MAAM,gBACNuE,MAAO,CAAEzI,OAAQ,OALnB,+CAWQ,OCnQ1B,IAqCeiQ,GArCK,WAClB,IAAMxP,EAAUyP,cACVvP,EAAWC,cAgCjB,OA/BA8O,qBAAU,WACR,sBAAC,8BAAA3N,EAAA,+EAEmBE,MAAM,WAAY,CAChCC,OAAQ,MACRI,QAAS,CAAEkG,cAAezF,aAAaC,OAASiD,eAAejD,SAJpE,cAEOT,EAFP,gBAMwBA,EAAIC,OAN5B,QAMO2N,EANP,QAOgB7O,OACXX,EAAS,CAAE0C,KAAM,WACjB5C,EAAQ8C,KAAK,YAEb5C,EAAS,CACP0C,KAAM,QACNC,QAAS,CACPH,GAAIgN,EAAShN,GACbC,KAAM+M,EAAS/M,KACflC,SAAUiP,EAASjP,SACnBJ,MAAOqP,EAASrP,MAChBE,MAAOmP,EAASnP,SAGc,cAA9BP,EAAQ2P,SAASC,UAA0D,WAA9B5P,EAAQ2P,SAASC,UAAuD,MAA9B5P,EAAQ2P,SAASC,UAC1G5P,EAAQ8C,KAAK,eAtBpB,sHAAD,MA8BK,M,6DCzBHjE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC6M,MAAO,CACLV,SAAU,GAEZT,KAAM,CACJC,YAAa3L,EAAMG,QAAQ,IAE7B+L,YAAa,CACXC,SAAU,GAEZ2E,OAAQ,CACNpM,MAAO1E,EAAMU,QAAQqQ,gBAAgBC,KAAW,MAChDvQ,gBAAiBuQ,KAAW,UAqDjBC,GAjDA,WACb,IAAM/P,EAAUpB,KACVqB,EAAWC,cACXyJ,EAAOgF,aAAY,SAACC,GAAD,OAAWA,EAAMjF,QACpC5J,EAAUyP,cAChB,OACE,kBAACQ,GAAA,EAAD,CAAQ5M,UAAWpD,EAAQgL,YAAapG,SAAS,UAC/C,kBAACqL,GAAA,EAAD,KACE,kBAAC,KAAD,CAAmB7M,UAAWpD,EAAQwK,OACtC,kBAAClH,EAAA,EAAD,CACEF,UAAWpD,EAAQ2L,MACnBpI,QAAQ,KACRC,MAAM,UACN0M,QAAM,GAJR,cAQA,kBAACrL,EAAA,EAAD,CACEC,QAAS,WACP7E,EAAS,CACP0C,KAAM,WAERN,aAAa8N,WAAW,SACxB5K,eAAe4K,WAAW,SAC1BpQ,EAAQ8C,KAAK,WAEfqL,KAAK,MACL1K,MAAM,WAELmG,EAAKsF,MAAQ,UAAY,SAE3BtF,EAAKsF,MACJ,kBAACpK,EAAA,EAAD,CACErB,MAAM,UACNP,UAAWgC,IACXC,GAAG,cAHL,QAKY,GAEC,UAAdyE,EAAKjH,KACJ,kBAACmC,EAAA,EAAD,CAAQrB,MAAM,UAAUP,UAAWgC,IAAYC,GAAG,UAAlD,SAEY,GACbyE,EAAKsF,MAAQ,kBAAC5L,EAAA,EAAD,CAAQD,UAAWpD,EAAQ4P,OAAQ7H,MAAO,CAAEqD,WAAY,QAAUzB,EAAKvJ,MAAM,GAAGa,cAAgB0I,EAAKrJ,MAAM,GAAGW,eAA0B,M,SCpDjJmP,GAAQ,WAAO,IAAD,EACSjQ,mBAAS,IADlB,mBAClBkQ,EADkB,KACPhB,EADO,KAkBzB,OAhBAL,qBAAU,WACR,sBAAC,8BAAA3N,EAAA,+EAEmBE,MAAM,mBAAoB,CACxCK,QAAS,CAAEkG,cAAezF,aAAaC,OAASiD,eAAejD,SAHpE,cAEOT,EAFP,gBAMoBA,EAAIC,OANxB,OAMOC,EANP,OAOGsN,EAAatN,EAAKuO,QAAO,SAAAnG,GAAQ,OAAIA,EAASZ,UAAY,MAP7D,sHAAD,KAYC,IAID,kBAACvG,EAAA,EAAD,CAAWE,SAAS,KAAK6E,MAAO,CAAElC,eAAgB,SAAUzG,WAAY,SAAUJ,UAAW,OAC3F,kBAAC0E,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACP,EAAA,EAAD,CAAYC,QAAQ,KAClBuJ,MAAM,SACNtJ,MAAM,cACNqJ,WAAS,GAHX,wBAMA,kBAAC,KAAD,CAAqB/B,OAAO,OAAOyF,SAAS,MAAMC,OAAQ,GACxD,kBAAC,KAAD,CACEzO,KAAMsO,EACN/Q,OAAQ,CACNmR,IAAK,GACL1C,MAAO,GACP2C,KAAM,GACNC,OAAQ,IAGV,kBAAC,KAAD,CAAeC,gBAAgB,QAC/B,kBAAC,KAAD,CAAOC,QAAQ,gBACf,kBAAC,KAAD,CAAOA,QAAQ,YAAYzM,MAAO,CAAEI,MAAO,QAASsM,OAAQ,GAAIlM,SAAU,gBAC1E,kBAAC,KAAD,MACA,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAKiM,QAAQ,YAAYE,KAAK,WAC3BV,EAAU9C,KAAI,SAACpD,EAAUC,GAAX,OACb,kBAAC,KAAD,CAAMgF,IAAG,eAAUhF,GAAS2G,KAAK,qBC/ClCC,GAdA,WACX,OAAQ,oCACJ,kBAAC1N,EAAA,EAAD,CAAYC,QAAQ,KAAKuJ,MAAM,SAASjB,cAAY,GAApD,cAGA,kBAACvI,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBsJ,MAAM,UACnD,kBADL,0BAGK,OCqCEmE,OA/Bf,WACE,IAAMnS,EAAQoS,YAAe,CAC3B1R,QAAS,CACP2R,QAAS,CACPzR,KAAM0R,IAAK,MAEb3R,UAAW,CACTC,KAAM2R,IAAK,SAKjB,OACE,oCACE,kBAAC,IAAD,KACE,kBAACC,EAAA,EAAD,CAAexS,MAAOA,GACpB,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAOyS,KAAK,YAAYC,OAAK,EAACvO,UAAWnD,IACzC,kBAAC,IAAD,CAAOyR,KAAK,SAAStO,UAAWkC,IAChC,kBAAC,IAAD,CAAOoM,KAAK,aAAatO,UAAWyL,KACpC,kBAAC,IAAD,CAAO6C,KAAK,SAAStO,UAAWmN,KAChC,kBAACqB,GAAA,EAAD,CAAKC,EAAG,GACN,kBAAC,GAAD,WC5BQC,QACW,cAA7BC,OAAOlC,SAASmC,UAEe,UAA7BD,OAAOlC,SAASmC,UAEhBD,OAAOlC,SAASmC,SAASC,MACvB,2D,aClBAC,GAAc,CAChB9C,OAAO,GCQP+C,GAAQC,aACVC,aAAgB,CACdvI,KDPgB,WAAkC,IAAjCiF,EAAgC,uDAAxBmD,GAAaxG,EAAW,uCACjD,OAAQA,EAAO5I,MACX,IAAK,QACD,IAAIqH,EAAW,CACXiF,OAAO,EACPC,OAAQ3D,EAAO3I,QAAQH,GACvBjC,SAAU+K,EAAO3I,QAAQpC,SACzBJ,MAAOmL,EAAO3I,QAAQxC,MACtBE,MAAOiL,EAAO3I,QAAQtC,MACtBoC,KAAM6I,EAAO3I,QAAQF,MAEzB,OAAOsH,EACX,IAAK,SACD,OAAO+H,GAEX,QACI,OAAOnD,MCPjBgD,OAAOO,8BAAgCP,OAAOO,gCAGhDC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUN,MAAOA,IACf,kBAAC,GAAD,QAGJ9P,SAASqQ,eAAe,SF6GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAlS,GACLkC,QAAQlC,MAAMA,EAAMmS,c","file":"static/js/main.562b256e.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport decode from \"jwt-decode\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useDispatch } from 'react-redux';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function Register({ history }) {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const [fname, setFname] = useState('')\r\n    const [lname, setLname] = useState('')\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState('')\r\n\r\n    const capFirstLetter = (str) => {\r\n        return str.charAt(0).toUpperCase() + str.slice(1);\r\n    }\r\n    const handleRegister = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            let res = await fetch('/auth/register', {\r\n                method: 'POST',\r\n                body: JSON.stringify({ fname: capFirstLetter(fname), lname: capFirstLetter(lname), username, password }),\r\n                headers: { \"content-type\": \"application/json\" }\r\n            })\r\n            let data = await res.json()\r\n            if (data.error) {\r\n                setError(data.msg)\r\n                setTimeout(() => {\r\n                    setError('')\r\n                }, 3000);\r\n                if (!password) {\r\n                    document.querySelector('#password').focus()\r\n                }\r\n                if (!username) {\r\n                    document.querySelector('#username').focus()\r\n                }\r\n                if (!lname) {\r\n                    document.querySelector('#lastName').focus()\r\n                }\r\n                if (!fname) {\r\n                    document.querySelector('#firstName').focus()\r\n                }\r\n            } else {\r\n                localStorage.token = data.access_token;\r\n                const { id, role, username, fname, lname } = decode(data.access_token);\r\n                dispatch({\r\n                    type: \"LOGIN\",\r\n                    payload: { id, role, username, fname, lname },\r\n                });\r\n                history.push(\"/vacations\");\r\n                console.log('Registered and logged')\r\n            }\r\n        } catch (error) {\r\n            throw error\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign up\r\n                </Typography>\r\n                <Typography component=\"h1\" variant=\"h5\" color=\"secondary\">\r\n                    {error}\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                autoComplete=\"fname\"\r\n                                name=\"firstName\"\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"firstName\"\r\n                                label=\"First Name\"\r\n                                autoFocus\r\n                                onChange={(e) => setFname(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"lastName\"\r\n                                label=\"Last Name\"\r\n                                name=\"lastName\"\r\n                                autoComplete=\"lname\"\r\n                                onChange={(e) => setLname(e.target.value)}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"username\"\r\n                                label=\"username\"\r\n                                type=\"username\"\r\n                                id=\"username\"\r\n                                onChange={(e) => setUsername(e.target.value)}\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <AccountCircle />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                autoComplete=\"current-password\"\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <LockIcon />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={(e) => handleRegister(e)}\r\n                    >\r\n                        Sign Up\r\n          </Button>\r\n                    <Grid container justify=\"center\">\r\n                        <Grid item>\r\n                            <Link component={RouterLink} to=\"/login\" variant=\"body2\">\r\n                                Already have an account? Sign in\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}","import React, { useState } from \"react\";\r\nimport decode from \"jwt-decode\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login({ history }) {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [rememberMe, setRememberMe] = useState(false)\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let res = await fetch(\"/auth/login\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ username, password }),\r\n        headers: { \"content-type\": \"application/json\" },\r\n      });\r\n      let data = await res.json();\r\n      console.log(data);\r\n      if (data.error) {\r\n        setError(data.msg);\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 3000);\r\n        if (!password) {\r\n          document.querySelector('#password').focus()\r\n        }\r\n        if (!username) {\r\n          console.log('called')\r\n          document.querySelector('#username').focus()\r\n        }\r\n      } else {\r\n        if (rememberMe) {\r\n          localStorage.token = data.access_token;\r\n        } else {\r\n          sessionStorage.token = data.access_token\r\n        }\r\n        const { id, role, username, fname, lname } = decode(data.access_token);\r\n        dispatch({\r\n          type: \"LOGIN\",\r\n          payload: { id, role, username, fname, lname },\r\n        });\r\n        history.push(\"/vacations\");\r\n        console.log('logged')\r\n      }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n          Sign in\r\n        </Typography>\r\n        <Typography component='h1' variant='h5' color='secondary'>\r\n          {error}\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            id='username'\r\n            label='Username'\r\n            name='username'\r\n            autoFocus\r\n            error={false}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <AccountCircle />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <TextField\r\n            variant='outlined'\r\n            margin='normal'\r\n            required\r\n            fullWidth\r\n            name='password'\r\n            label='Password'\r\n            type='password'\r\n            id='password'\r\n            autoComplete='current-password'\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <LockIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value='remember' color='primary' />}\r\n            label='Remember me'\r\n            checked={rememberMe}\r\n            onChange={e => setRememberMe(e.target.checked)}\r\n          />\r\n          <Button\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n            onClick={(e) => handleLogin(e)}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container justify='center'>\r\n            <Grid item>\r\n              <Link component={RouterLink} to='/register' variant='body2'>\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker, } from '@material-ui/pickers';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\n\r\nexport default function EditVacationModal({ country, price, start_date, end_date, destination, img_src, description, id, setCounter, counter, }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(false);\r\n    const [startDate, setStartDate] = useState(start_date)\r\n    const [endDate, setEndDate] = useState(end_date)\r\n    const [ePrice, setEprice] = useState(price)\r\n    const [eDescription, setEdescription] = useState(description)\r\n    const [eDestenation, setEdestenation] = useState(destination)\r\n    const [eCountry, setEcountry] = useState(country)\r\n    const [eImgSrc, setEimgsrc] = useState(img_src)\r\n\r\n    const handleClick = async () => {\r\n        try {\r\n            await fetch(`/vacations/edit/${id}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    Authorization: localStorage.token || sessionStorage.token,\r\n                    \"content-type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    description: eDescription,\r\n                    destination: eDestenation,\r\n                    country: eCountry,\r\n                    price: ePrice,\r\n                    img_src: eImgSrc,\r\n                    end_date: endDate,\r\n                    start_date: startDate\r\n                })\r\n            })\r\n            setCounter(counter + 1)\r\n            setOpen(!open)\r\n        } catch (error) {\r\n            throw error\r\n        }\r\n    }\r\n    return (\r\n        <div style={{ marginTop: '7px' }}>\r\n            <IconButton onClick={() => setOpen(!open)}>\r\n                <EditIcon />\r\n            </IconButton>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                onClose={() => setOpen(!open)}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <div className={classes.paper}>\r\n                        <h1 id=\"transition-modal-title\" style={{ textAlign: \"center\" }}>Edit Vacation To {eDestenation}</h1>\r\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                            <Grid container >\r\n                                <Grid item xs={12} sm={3}>\r\n                                    <KeyboardDatePicker\r\n                                        margin=\"normal\"\r\n                                        id=\"date-picker-dialog1\"\r\n                                        label=\"Starting Date\"\r\n                                        format=\"MM/dd/yyyy\"\r\n                                        value={startDate}\r\n                                        onChange={setStartDate}\r\n                                        KeyboardButtonProps={{\r\n                                            'aria-label': 'change date',\r\n                                        }}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3}>\r\n                                    <KeyboardDatePicker\r\n                                        margin=\"normal\"\r\n                                        id=\"date-picker-dialog2\"\r\n                                        label=\"Ending Date\"\r\n                                        format=\"MM/dd/yyyy\"\r\n                                        minDate={startDate}\r\n                                        value={endDate}\r\n                                        onChange={setEndDate}\r\n                                        KeyboardButtonProps={{\r\n                                            'aria-label': 'change date',\r\n                                        }}\r\n                                    />\r\n                                </Grid   >\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField label=\"Destination\" margin=\"normal\" onChange={e => setEdestenation(e.target.value)} value={eDestenation} />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField label=\"Country\" margin=\"normal\" onChange={e => setEcountry(e.target.value)} value={eCountry} />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField type=\"number\" label=\"Price\" margin=\"normal\" onChange={e => setEprice(e.target.value)} value={ePrice} />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField type=\"text\" label=\"Image Source\" margin=\"normal\" onChange={e => setEimgsrc(e.target.value)} value={eImgSrc} />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <h4>Description :</h4>\r\n                                    <TextareaAutosize value={eDescription} onChange={e => setEdescription(e.target.value)} rowsMax={10} />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <div style={{ textAlign: \"center\" }} >\r\n                                <Button\r\n                                    onClick={handleClick}\r\n                                    disabled={!eDescription || !eDestenation || endDate < startDate || !eImgSrc || !eCountry || !ePrice ? true : false}\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                >\r\n                                    Save Changes\r\n                                      </Button>\r\n                            </div>\r\n                        </MuiPickersUtilsProvider >\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import React, { useState } from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport Moment from \"react-moment\";\r\nimport clsx from \"clsx\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditVacationModal from \"./EditVacationModal\";\r\n\r\nconst Vacation = ({\r\n  destination,\r\n  description,\r\n  img,\r\n  start_date,\r\n  end_date,\r\n  price,\r\n  followers,\r\n  id,\r\n  following,\r\n  setCounter,\r\n  country,\r\n  counter,\r\n  serachedVacations,\r\n  setSearchedVacations,\r\n  user\r\n}) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n  \r\n  const handleFavoirte = async () => {\r\n    try {\r\n      fetch(`/vacations/${id}`, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({\r\n          followers: following ? --followers : ++followers,\r\n          order: following ? \"REMOVE\" : \"ADD\",\r\n        }),\r\n        headers: {\r\n          Authorization: localStorage.token || sessionStorage.token,\r\n          \"content-type\": \"application/json\",\r\n        },\r\n      });\r\n      if (setSearchedVacations) {\r\n        let newState = [...serachedVacations]\r\n        let update = serachedVacations.find(vacation => vacation.id === id)\r\n        let index = serachedVacations.indexOf(update)\r\n        newState[index].followers = followers\r\n        setSearchedVacations(newState)\r\n      }\r\n      setCounter(counter + 1)\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await fetch(`/vacations/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          Authorization: localStorage.token || sessionStorage.token,\r\n        }\r\n      })\r\n      if (setSearchedVacations) {\r\n        let newState = [...serachedVacations]\r\n        let update = serachedVacations.find(vacation => vacation.id === id)\r\n        let index = serachedVacations.indexOf(update)\r\n        newState.splice(index, 1)\r\n        setSearchedVacations(newState)\r\n      }\r\n      setCounter(counter + 1)\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    icon: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    cardGrid: {\r\n      paddingTop: theme.spacing(8),\r\n      paddingBottom: theme.spacing(8),\r\n    },\r\n    card: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n\r\n    cardMedia: {\r\n      paddingTop: \"56.25%\", // 16:9\r\n    },\r\n    cardContent: {\r\n      flexGrow: 1,\r\n    },\r\n    footer: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      padding: theme.spacing(6),\r\n    },\r\n    expand: {\r\n      marginLeft: \"auto\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Grid item xs={3} className={classes.card}>\r\n        <Card >\r\n          {user.role === \"admin\" ?\r\n            <CardHeader style={{ justifyContent: 'space-around' }} action={\r\n              <EditVacationModal country={country} price={price}\r\n                start_date={start_date} end_date={end_date}\r\n                destination={destination} img_src={img}\r\n                description={description} id={id}\r\n                counter={counter} setCounter={setCounter}\r\n              />\r\n            }\r\n              avatar={\r\n                <IconButton onClick={handleDelete} size=\"small\">\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              }\r\n            /> : ''}\r\n\r\n          <CardMedia\r\n            className={classes.cardMedia}\r\n            image={`${img}`}\r\n            title={`${destination}`}\r\n          />\r\n          <CardContent className={classes.cardContent}>\r\n            <Typography\r\n              style={{ textAlign: \"center\" }}\r\n              gutterBottom\r\n              variant='h5'\r\n              component='div'\r\n            >\r\n              <u>{destination}</u>\r\n              <h4>Country : {country}</h4>\r\n              <h4>Price : {price} $</h4>\r\n              <h4>Dates :</h4>\r\n              <h5>\r\n                Starts : <Moment format='MMM Do YYYY'>{start_date}</Moment>{\" \"}\r\n              </h5>\r\n              <h5>\r\n                Ends : <Moment format='MMM Do YYYY'>{end_date}</Moment>{\" \"}\r\n              </h5>\r\n              <h4>Followers : {followers}</h4>\r\n            </Typography>\r\n            {/* Collapse */}\r\n            <Collapse in={expanded} timeout='auto' unmountOnExit>\r\n              <Typography>{description}</Typography>\r\n            </Collapse>\r\n          </CardContent>\r\n          <Typography\r\n            component='div'\r\n            style={{ display: \"flex\", justifyContent: \"space-evenly\" }}\r\n          >\r\n            <CardActions style={{ display: \"flex\" }}>\r\n              <Button\r\n                className={clsx(classes.expand, {\r\n                  [classes.expandOpen]: expanded,\r\n                })}\r\n                onClick={handleExpandClick}\r\n                aria-expanded={expanded}\r\n                aria-label='show more'\r\n                size='small'\r\n                color='primary'\r\n              >\r\n                {expanded ? \"Hide Info\" : \"Show More Info\"}\r\n              </Button>\r\n              {user.role === \"user\" ? <IconButton\r\n                aria-label='add to favorites'\r\n                onClick={handleFavoirte}\r\n              >\r\n                <FavoriteIcon color={following ? \"secondary\" : \"action\"} />\r\n              </IconButton>\r\n                : null}\r\n\r\n            </CardActions>\r\n          </Typography>\r\n        </Card>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Vacation;\r\n","import 'date-fns';\r\nimport React, { useState } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker, } from '@material-ui/pickers';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport moment from 'moment';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\n\r\nexport default function SearchInputs({\r\n    setFollowedVacations,\r\n    setNotFollowedVacations,\r\n    setSearchedVacations,\r\n    allVacations,\r\n    counter,\r\n    setCounter\r\n}) {\r\n    const [startDate, setStartDate] = useState(new Date())\r\n    const [endDate, setEndDate] = useState(new Date())\r\n    const [description, setDescription] = useState('')\r\n    const [error, setError] = useState('')\r\n\r\n    const searchVacation = async () => {\r\n        try {\r\n            let res = await fetch('/vacations/search', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: localStorage.token || sessionStorage.token,\r\n                    \"content-type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(\r\n                    {\r\n                        start_date: startDate,\r\n                        end_date: endDate,\r\n                        description\r\n                    })\r\n            })\r\n            let data = await res.json()\r\n            if (data.length > 0) {\r\n                setFollowedVacations([])\r\n                setNotFollowedVacations([])\r\n                setSearchedVacations(data)\r\n            } else {\r\n                setError('Search Have No Results To Show :(')\r\n                setTimeout(() => {\r\n                    setError('')\r\n                }, 2500);\r\n            }\r\n        } catch (error) {\r\n            throw error\r\n        }\r\n    }\r\n\r\n    const handleClear = () => {\r\n        setCounter(counter + 1)\r\n        setSearchedVacations([])\r\n        setDescription('')\r\n    }\r\n\r\n    return (\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <div>\r\n                <Typography paragraph variant='h6' align='center' color='textSecondary'>\r\n                    Search Your Favorite Vacation\r\n                </Typography>\r\n                {/* Check if end date is earlier then the starting date  */}\r\n                {endDate < startDate ? <h2 style={{ color: 'red', textAlign: \"center\" }}>Notice! Vacation End Date Is Not Valid!</h2> : \"\"}\r\n            </div>\r\n            <Grid item xs={12} container justify=\"space-around\" alignContent=\"center\" alignItems=\"center\">\r\n\r\n                <KeyboardDatePicker\r\n                    margin=\"normal\"\r\n                    id=\"date-picker-dialog1\"\r\n                    label=\"Starting Date\"\r\n                    format=\"MM/dd/yyyy\"\r\n                    minDate={startDate}\r\n                    value={startDate}\r\n                    renderDay={(day, selectedDate, isInCurrentMonth, dayComponent) => {// Showing icons on dates with match\r\n                        let allDates = allVacations.notFollowedVacations.map(vac => moment(vac.start_date).format('MMMM Do YYYY'))\r\n                        allDates = [...allDates, ...allVacations.followedVacations.map(vac => moment(vac.start_date).format('MMMM Do YYYY'))]\r\n                        const isSelected = isInCurrentMonth && allDates.includes(moment(day).format('MMMM Do YYYY'))\r\n                        return <Badge badgeContent={isSelected ? <CheckIcon style={{ position: \"relative\", right: \"20px\" }} /> : undefined}>{dayComponent}</Badge>\r\n                    }}\r\n                    onChange={setStartDate}\r\n                    KeyboardButtonProps={{\r\n                        'aria-label': 'change date',\r\n                    }}\r\n                />\r\n                <KeyboardDatePicker\r\n                    margin=\"normal\"\r\n                    id=\"date-picker-dialog2\"\r\n                    label=\"Ending Date\"\r\n                    format=\"MM/dd/yyyy\"\r\n                    minDate={startDate}\r\n                    value={endDate}\r\n                    renderDay={(day, selectedDate, isInCurrentMonth, dayComponent) => { // Showing icons on dates with match\r\n                        let allDates = allVacations.notFollowedVacations.map(vac => moment(vac.end_date).format('MMMM Do YYYY'))\r\n                        allDates = [...allDates, ...allVacations.followedVacations.map(vac => moment(vac.end_date).format('MMMM Do YYYY'))]\r\n                        const isSelected = isInCurrentMonth && allDates.includes(moment(day).format('MMMM Do YYYY'))\r\n                        return <Badge badgeContent={isSelected ? <CheckIcon style={{ position: \"relative\", right: \"20px\" }} /> : undefined}>{dayComponent}</Badge>\r\n                    }}\r\n                    onChange={setEndDate}\r\n                    KeyboardButtonProps={{\r\n                        'aria-label': 'change date',\r\n                    }}\r\n                />\r\n                <TextField id=\"standard-basic\" label=\"Description\" margin=\"normal\" value={description} onChange={e => setDescription(e.target.value)} />\r\n\r\n                <Button\r\n                    endIcon={<SearchIcon />}\r\n                    color=\"primary\" edge='end'\r\n                    variant=\"contained\"\r\n                    disabled={endDate < startDate ? true : false}\r\n                    size=\"medium\"\r\n                    style={{ marginTop: '20px' }}\r\n                    onClick={searchVacation}\r\n                >\r\n\r\n                    Search\r\n                     </Button>\r\n                <Button\r\n                    endIcon={<HighlightOffIcon />}\r\n                    color=\"primary\"\r\n                    edge='end'\r\n                    variant=\"contained\"\r\n                    size=\"medium\"\r\n                    style={{ marginTop: '20px' }}\r\n                    onClick={handleClear}\r\n                >\r\n                    Clear\r\n                </Button>\r\n            </Grid>\r\n            <Typography style={{ marginTop: \"3%\" }} paragraph variant='h6' align='center' color='secondary'>\r\n                {error}\r\n            </Typography>\r\n        </MuiPickersUtilsProvider >\r\n    );\r\n}","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker, } from '@material-ui/pickers';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n}));\r\n\r\nexport default function AddVacationModal({ counter, setCounter }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(false);\r\n    const [start_date, setStartDate] = useState(new Date())\r\n    const [end_date, setEndDate] = useState(new Date())\r\n    const [price, setPrice] = useState(0)\r\n    const [description, setDescription] = useState('')\r\n    const [destination, setDestination] = useState('')\r\n    const [country, setCountry] = useState('')\r\n    const [img_src, setImgSrc] = useState('')\r\n\r\n    const handleClick = async () => {\r\n        try {\r\n            await fetch('/vacations/add', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    Authorization: localStorage.token || sessionStorage.token\r\n                },\r\n                body: JSON.stringify({ destination, description, start_date, end_date, country, price, img_src })\r\n            })\r\n            setOpen(!open)\r\n            setStartDate(new Date())\r\n            setEndDate(new Date())\r\n            setPrice(0)\r\n            setDescription('')\r\n            setDestination('')\r\n            setCountry('')\r\n            setImgSrc('')\r\n            setCounter(counter + 1)\r\n        } catch (error) {\r\n            throw error\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{ marginTop: '7px' }}>\r\n            <Button onClick={() => setOpen(!open)} variant='contained' color='primary' >Add Flight</Button>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                onClose={() => setOpen(!open)}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <div className={classes.paper}>\r\n                        <h1 id=\"transition-modal-title\" style={{ textAlign: \"center\" }}>Add Vacation :</h1>\r\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                            <Grid container >\r\n                                <Grid item xs={12} sm={3}>\r\n                                    <KeyboardDatePicker\r\n                                        margin=\"normal\"\r\n                                        id=\"date-picker-dialog1\"\r\n                                        label=\"Starting Date\"\r\n                                        format=\"MM/dd/yyyy\"\r\n                                        minDate={start_date}\r\n                                        value={start_date}\r\n                                        onChange={setStartDate}\r\n                                        KeyboardButtonProps={{\r\n                                            'aria-label': 'change date',\r\n                                        }}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3}>\r\n                                    <KeyboardDatePicker\r\n                                        margin=\"normal\"\r\n                                        id=\"date-picker-dialog2\"\r\n                                        label=\"Ending Date\"\r\n                                        format=\"MM/dd/yyyy\"\r\n                                        minDate={start_date}\r\n                                        value={end_date}\r\n                                        onChange={setEndDate}\r\n                                        KeyboardButtonProps={{\r\n                                            'aria-label': 'change date',\r\n                                        }}\r\n                                    />\r\n                                </Grid   >\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField label=\"Destination\" margin=\"normal\" onChange={e => setDestination(e.target.value)} value={destination} />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField label=\"Country\" margin=\"normal\" onChange={e => setCountry(e.target.value)} value={country} />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField type=\"number\" label=\"Price\" margin=\"normal\" onChange={e => setPrice(e.target.value)} value={price} />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <TextField type=\"text\" label=\"Image Source\" margin=\"normal\" onChange={e => setImgSrc(e.target.value)} value={img_src} />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={3} >\r\n                                    <h4>Description :</h4>\r\n                                    <TextareaAutosize value={description} onChange={e => setDescription(e.target.value)} rowsMax={10} />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <div style={{ textAlign: \"center\" }} >\r\n                                <Button\r\n                                    onClick={handleClick}\r\n                                    disabled={!description || !destination || end_date < start_date || !img_src || !country || !price ? true : false}\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                >\r\n                                    Add Flight !\r\n                                      </Button>\r\n                            </div>\r\n                        </MuiPickersUtilsProvider >\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import React, { useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Vacation from \"./Vacation\";\r\nimport SearchInputs from \"./SearchInputs\";\r\nimport AddVacationModal from '../components/AddVacationModal'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n}));\r\n\r\nexport default function Vacations() {\r\n  const user = useSelector((state) => state.user);\r\n  const classes = useStyles();\r\n  const [allVacations, setAllVacations] = useState([])\r\n  const [followedVacations, setFollowedVacations] = useState([]);\r\n  const [notFollowedVacations, setNotFollowedVacations] = useState([]);\r\n  const [serachedVacations, setSearchedVacations] = useState([]);\r\n  const [counter, setCounter] = useState(0);\r\n  const [liked, setLiked] = useState([])\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        if (user.login) {\r\n          let res = await fetch(`/vacations`, {\r\n            headers: { Authorization: localStorage.token || sessionStorage.token }\r\n          });\r\n          let allVacations = await res.json();\r\n          setAllVacations(allVacations)\r\n          setNotFollowedVacations(allVacations.notFollowedVacations);\r\n          setFollowedVacations(allVacations.followedVacations)\r\n          setLiked(allVacations.followedVacations.map(vacation => vacation.id))\r\n        }\r\n        return null;\r\n      } catch (error) {\r\n        throw error\r\n      }\r\n    })();\r\n  }, [counter, user.login, user.userid]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <main>\r\n        <div className={classes.heroContent}>\r\n          <Container maxWidth='md'>\r\n            <Typography\r\n              component='h1'\r\n              variant='h2'\r\n              align='center'\r\n              color='textPrimary'\r\n              gutterBottom\r\n            >\r\n              Bon Voyage {user.fname} {user.lname}\r\n            </Typography>\r\n            <Typography\r\n              variant='h6'\r\n              align='center'\r\n              color='textSecondary'\r\n              paragraph\r\n            >\r\n              Welcome to your travel manager app\r\n              {` ${user.fname} ${user.lname}`}! Here you can find valuable\r\n              information about the best destenations for your vacation! <br />\r\n              Have fun !\r\n            </Typography>\r\n          </Container>\r\n        </div>\r\n        <Container maxWidth=\"md\" >\r\n          <SearchInputs\r\n            setFollowedVacations={setFollowedVacations}\r\n            setNotFollowedVacations={setNotFollowedVacations}\r\n            setSearchedVacations={setSearchedVacations}\r\n            allVacations={allVacations}\r\n            counter={counter}\r\n            setCounter={setCounter}\r\n          />\r\n        </Container>\r\n        {user.role === \"admin\" ?\r\n          <Container style={{ textAlign: \"center\" }} maxWidth=\"md\" >\r\n            <AddVacationModal counter={counter} setCounter={setCounter} />\r\n          </Container>\r\n          : null}\r\n\r\n        {/* Searched Vacations */}\r\n        {serachedVacations.length > 0 ?\r\n\r\n          <h1 style={{ textAlign: \"center\" }}> Here Is Your Search Results :</h1> : \"\"}\r\n\r\n        {serachedVacations.length > 0 ?\r\n          (<Container className={classes.cardGrid} maxWidth='lg'>\r\n            <Grid\r\n              justify=\"flex-start\"\r\n              container\r\n              spacing={3}\r\n            >\r\n              {serachedVacations.map((vacation) => (\r\n                <Vacation\r\n                  key={vacation.id}\r\n                  id={vacation.id}\r\n                  description={vacation.description}\r\n                  destination={vacation.destination}\r\n                  country={vacation.country}\r\n                  img={vacation.img_src}\r\n                  start_date={vacation.start_date}\r\n                  end_date={vacation.end_date}\r\n                  price={vacation.price}\r\n                  followers={vacation.followers}\r\n                  following={liked.includes(vacation.id) ? true : false}\r\n                  setVacations={setFollowedVacations}\r\n                  setCounter={setCounter}\r\n                  counter={counter}\r\n                  serachedVacations={serachedVacations}\r\n                  setSearchedVacations={setSearchedVacations}\r\n                  user={user}\r\n                />\r\n              ))}\r\n            </Grid>\r\n          </Container>)\r\n          : \"\"\r\n        }\r\n        {serachedVacations.length === 0 ? (\r\n          <Container className={classes.cardGrid} maxWidth='lg'>\r\n            {user.role === \"admin\" ? null :\r\n              <Typography\r\n                component='h2'\r\n                variant='h3'\r\n                align='center'\r\n                color='textPrimary'\r\n                gutterBottom\r\n                style={{ marginBottom: \"5%\" }}\r\n              >\r\n                Vacations You Followed :\r\n         </Typography>}\r\n\r\n            {/* Followed Vacations */}\r\n            <Grid\r\n              justify={followedVacations.length > 0 ? \"flex-start\" : \"center\"}\r\n              container\r\n              spacing={3}\r\n            >\r\n              {followedVacations.length > 0 ? (\r\n                followedVacations.map((vacation) => (\r\n                  <Vacation\r\n                    key={vacation.id}\r\n                    id={vacation.id}\r\n                    description={vacation.description}\r\n                    destination={vacation.destination}\r\n                    country={vacation.country}\r\n                    img={vacation.img_src}\r\n                    start_date={vacation.start_date}\r\n                    end_date={vacation.end_date}\r\n                    price={vacation.price}\r\n                    followers={vacation.followers}\r\n                    following={true}\r\n                    setVacations={setFollowedVacations}\r\n                    setCounter={setCounter}\r\n                    counter={counter}\r\n                    user={user}\r\n\r\n                  />\r\n                ))\r\n              ) : (\r\n                  user.role === \"admin\" ? null :\r\n                    <Typography\r\n                      component='h4'\r\n                      variant='h4'\r\n                      align='center'\r\n                      color='textSecondary'\r\n                      style={{ margin: \"5%\" }}\r\n                    >\r\n                      You Havent Followed Any Vacation Yet...\r\n              </Typography>\r\n\r\n\r\n                )}\r\n            </Grid>\r\n            <Typography\r\n              component='h2'\r\n              variant='h3'\r\n              align='center'\r\n              color='textPrimary'\r\n              gutterBottom\r\n              style={{ margin: \"3%\" }}\r\n            >\r\n              {user.role === \"admin\" ? \"All Vacations :\" : \"Vacations You Didn't Followed :\"}\r\n            </Typography>\r\n            {/* Not Followed Vacations */}\r\n            <Grid\r\n              justify={notFollowedVacations.length > 0 ? \"flex-start\" : \"center\"}\r\n              container\r\n              spacing={4}\r\n            >\r\n              {notFollowedVacations.length > 0 ? (\r\n                notFollowedVacations.map((vacation) => (\r\n                  <Vacation\r\n                    key={vacation.id}\r\n                    id={vacation.id}\r\n                    description={vacation.description}\r\n                    destination={vacation.destination}\r\n                    country={vacation.country}\r\n                    img={vacation.img_src}\r\n                    start_date={vacation.start_date}\r\n                    end_date={vacation.end_date}\r\n                    price={vacation.price}\r\n                    followers={vacation.followers}\r\n                    following={false}\r\n                    setVacations={setNotFollowedVacations}\r\n                    setCounter={setCounter}\r\n                    counter={counter}\r\n                    user={user}\r\n                  />\r\n                ))\r\n              ) : (\r\n                  <Typography\r\n                    component='h4'\r\n                    variant='h4'\r\n                    align='center'\r\n                    color='textSecondary'\r\n                    style={{ margin: \"5%\" }}\r\n                  >\r\n                    You Have Followed All Of Our Vacations...\r\n                  </Typography>\r\n                )}\r\n            </Grid>\r\n          </Container>) : null}\r\n\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst VerifyToken = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        let res = await fetch(\"/auth/me\", {\r\n          method: \"GET\",\r\n          headers: { Authorization: localStorage.token || sessionStorage.token },\r\n        });\r\n        let userData = await res.json();\r\n        if (userData.error) {\r\n          dispatch({ type: \"LOGOUT\" });\r\n          history.push(\"/login\");\r\n        } else {\r\n          dispatch({\r\n            type: \"LOGIN\",\r\n            payload: {\r\n              id: userData.id,\r\n              role: userData.role,\r\n              username: userData.username,\r\n              fname: userData.fname,\r\n              lname: userData.lname,\r\n            },\r\n          });\r\n          if (history.location.pathname === '/register' || history.location.pathname === '/login' || history.location.pathname === '/') {\r\n            history.push(\"/vacations\");\r\n          }\r\n        }\r\n      } catch (error) {\r\n        throw error\r\n      }\r\n    })();\r\n  });\r\n  return null;\r\n};\r\n\r\nexport default VerifyToken;\r\n","import React from \"react\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\r\nimport { deepOrange } from '@material-ui/core/colors';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n}));\r\n\r\nconst Appbar = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n  const history = useHistory();\r\n  return (\r\n    <AppBar className={classes.cardContent} position='sticky'>\r\n      <Toolbar>\r\n        <FlightTakeoffIcon className={classes.icon} />\r\n        <Typography\r\n          className={classes.title}\r\n          variant='h6'\r\n          color='inherit'\r\n          noWrap\r\n        >\r\n          Bon Voyage\r\n        </Typography>\r\n        <Button\r\n          onClick={() => {\r\n            dispatch({\r\n              type: \"LOGOUT\",\r\n            });\r\n            localStorage.removeItem(\"token\");\r\n            sessionStorage.removeItem(\"token\");\r\n            history.push(\"/login\");\r\n          }}\r\n          edge='end'\r\n          color='inherit'\r\n        >\r\n          {user.login ? \"Log Out\" : \"Login\"}\r\n        </Button>\r\n        {user.login ?\r\n          <Button\r\n            color=\"inherit\"\r\n            component={RouterLink}\r\n            to=\"/vacations\">\r\n            Home\r\n          </Button> : ''}\r\n\r\n        {user.role === \"admin\" ?\r\n          <Button color=\"inherit\" component={RouterLink} to=\"/chart\">\r\n            Chart\r\n          </Button> : ''}\r\n        {user.login ? <Avatar className={classes.orange} style={{ marginLeft: \"6px\" }}>{user.fname[0].toUpperCase() + user.lname[0].toUpperCase()}</Avatar> : \"\"}\r\n      </Toolbar>\r\n    </AppBar >\r\n  );\r\n};\r\n\r\nexport default Appbar;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer\r\n} from \"recharts\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useEffect } from \"react\";\r\n\r\n\r\n\r\n\r\nexport const Chart = () => {\r\n  const [vacations, setVacations] = useState([])\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        let res = await fetch('/vacations/chart', {\r\n          headers: { Authorization: localStorage.token || sessionStorage.token }\r\n        })\r\n\r\n        let data = await res.json()\r\n        setVacations(data.filter(vacation => vacation.followers > 0))\r\n      } catch (error) {\r\n        throw error\r\n      }\r\n    })()\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" style={{ justifyContent: 'center', alignItems: 'center', marginTop: \"5%\" }}>\r\n      <Grid item xs={12}>\r\n        <Typography variant='h2'\r\n          align='center'\r\n          color='textPrimary'\r\n          paragraph >\r\n          Followers Statistics\r\n        </Typography>\r\n        <ResponsiveContainer height=\"100%\" minWidth=\"50%\" aspect={2}>\r\n          <BarChart\r\n            data={vacations}\r\n            margin={{\r\n              top: 50,\r\n              right: 30,\r\n              left: 20,\r\n              bottom: 5,\r\n            }}\r\n          >\r\n            <CartesianGrid strokeDasharray='3 3' />\r\n            <XAxis dataKey='destination' />\r\n            <YAxis dataKey='followers' label={{ value: \"Likes\", angle: -90, position: \"insideLeft\" }} />\r\n            <Tooltip />\r\n            <Legend />\r\n            <Bar dataKey='followers' fill='#F30761'>\r\n              {vacations.map((vacation, index) => (\r\n                <Cell key={`cell-${index}`} fill='#2ABB7C' />\r\n              ))}\r\n            </Bar>\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n\r\n      </Grid>\r\n    </Container>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst Footer = () => {\r\n    return (<>\r\n        <Typography variant='h6' align='center' gutterBottom>\r\n            Bon Voyage\r\n      </Typography>\r\n        <Typography variant='body2' color='textSecondary' align='center'>\r\n            {\"Copyright  \"}\r\n                 Ron Gabbay October 2020\r\n            {\".\"}\r\n        </Typography>\r\n        </>\r\n        );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport Register from \"./components/Register\";\r\nimport Login from \"./components/Login\";\r\nimport { ThemeProvider } from \"@material-ui/core\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport blue from \"@material-ui/core/colors/blue\";\r\nimport pink from \"@material-ui/core/colors/pink\";\r\nimport Vacations from \"./components/Vacations\";\r\nimport VerifyToken from \"./components/SideEffects/VerifyToken\";\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Appbar from \"./components/AppBar\";\r\nimport { Chart } from \"./components/Chart\";\r\nimport Footer from \"./components/Footer\";\r\n\r\nfunction App() {\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        main: blue[500],\r\n      },\r\n      secondary: {\r\n        main: pink[500],\r\n      },\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Router>\r\n        <ThemeProvider theme={theme}>\r\n          <VerifyToken />\r\n          <Appbar />\r\n          <Route path='/register' exact component={Register} />\r\n          <Route path='/login' component={Login} />\r\n          <Route path='/vacations' component={Vacations} />\r\n          <Route path=\"/chart\" component={Chart} />\r\n          <Box m={5}>\r\n            <Footer />\r\n          </Box>\r\n        </ThemeProvider>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialUser = {\r\n    login: false\r\n}\r\n\r\nexport const user = (state = initialUser, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n            let newState = {\r\n                login: true,\r\n                userid: action.payload.id,\r\n                username: action.payload.username,\r\n                fname: action.payload.fname,\r\n                lname: action.payload.lname,\r\n                role: action.payload.role\r\n            }\r\n            return newState\r\n        case \"LOGOUT\":\r\n            return initialUser\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// let initialvacations = []\r\n// let vacations = {\r\n//     id : {\r\n//         action.payload\r\n//      }\r\n// }\r\n\r\n// Add Vacation\\\r\n// newState = {\r\n//     ...oldState,\r\n//     [action.payload.id]: action.payload,\r\n// }\r\n\r\n// Ad to favorites\r\n// newState = {\r\n//     ...oldState,\r\n//     [action.payload.id]: {\r\n//         ...oldState[wantedId],\r\n//             favorite: true \r\n//     },\r\n\r\n// }\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, combineReducers } from 'redux';\r\nimport { user } from './reducers/userReducer'\r\n\r\nlet store = createStore(\r\n  combineReducers({\r\n    user\r\n  }),\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n)\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store} >\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}